<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>The HTML5 Herald</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">
  <!-- Compiled and minified CSS -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
   <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

   <!-- Compiled and minified JavaScript -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>


  <!-- <link rel="stylesheet" href="css/styles.css?v=1.0"> -->
  <style>
  .upload-btn-wrapper {
    position: relative;
    overflow: hidden;
    display: inline-block;
  }

  .btn {
    border: 2px solid gray;
    color: gray;
    background-color: white;
    padding: 100px 100px 150px 100px;
    border-radius: 8px;
    font-size: 100px;
    font-weight: bold;
  }

  .btn2 {
    border: 2px solid gray;
    color: gray;
    background-color: white;
    padding: 50px 50px 75px 75px;
    margin: 10px;
    border-radius: 8px;
    font-size: 50px;
    font-weight: bold;
  }

  .upload-btn-wrapper input[type=file] {
    font-size: 100px;
    position: absolute;
    left: 0;
    top: 0;
    opacity: 0;
  }
  </style>

</head>

<body onload="twoScript()">
<center>

    <div style="text-align: center; margin-top: 50px">

      <div id="main">
        <div id="bt">
          <img src="upload.jpg" width="1000">
          <h1>Choose 13 photos</h1>
          <h1>from your gallery</h1>
        </div>
        <div class="upload-btn-wrapper">
        <button class="btn">Upload</button>
        <input type="file" name="img" id="myFile" multiple />
        </div>
      </div>



      <div  id="loader" style="display: none;">
        <h1><span class="black-text">
        Wait a moment!
        </span>
        </h1>
      </div>




    </div>

    <div id="demo" style="display: none;">
      <div class="col s12 m8 offset-m2 l6 offset-l3">
          <div class="card-panel green lighten-5 z-depth-1">
            <div class="row valign-wrapper">
              <div class="col s2">
                <i class="large material-icons circle responsive-img">check</i>
              </div>
              <div class="col s10">
                <h1><span class="black-text">
                Your photos have been successfully uploaded, now choose the style of your calendar.
                </span>
              </h1>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
              <div class="col s4">
                <form action="#">
                  <p  id="a5">
                    <label>
                      <input name="group1" type="radio" checked />
                      <span><font size="40">A5</font></span>
                    </label>
                  </p>
                  <p>
                    <label  id="a4">
                      <input name="group1" type="radio" />
                      <span><font size="40">A4</font></span>
                    </label>
                  </p>
                  <p id="a3">
                    <label>
                      <input  class="with-gap" name="group1" type="radio"  />
                      <span><font size="40">A3</font></span>
                    </label>
                  </p>
                </form>


              </div>
              <div class="col s4">
                <form action="#">
                  <p>
                    <label>
                      <input name="group1" type="radio" checked />
                      <span><font size="40">Standart</font></span>
                    </label>
                  </p>
                  <p>
                    <label>
                      <input name="group1" type="radio" />
                      <span><font size="40">Luxus</font></span>
                    </label>
                  </p>
                </form>
              </div>
              <div class="col s4">
                <form action="#">
                  <p>
                    <label>
                      <input name="group1" type="radio" checked />
                      <span><font size="40">48h</font></span>
                    </label>
                  </p>
                  <p>
                    <label>
                      <input name="group1" type="radio" />
                      <span><font size="40">24h/500kc</font></span>
                    </label>
                  </p>
                  <p>
                    <label>
                      <input class="with-gap" name="group1" type="radio"  />
                      <span><font size="40">12h/800kc</font></span>
                    </label>
                  </p>
                </form>
              </div>
            </div>

        <div class="row">
        <div class="col s6">
            <button id="btn_ls" class="btn2">Last style</button>
        </div>
        <div class="col s6">
            <button id="btn_ns" class="btn2">Next style</button>
        </div>
      </div>

      <div class="row">
      <div class="col s6">
          <button id="btn_lp" class="btn2">Last page</button>
      </div>

      <div class="col s6">
          <button id="btn_np" class="btn2">Next page</button>
      </div>
    </div>


      <button id="btn_ok" class="btn">OK</button>



    </div>




<div id="domino" style="display: none;">
  <div class="col s12 m8 offset-m2 l6 offset-l3">
      <div class="card-panel green lighten-5 z-depth-1">
        <div class="row valign-wrapper">
          <div class="col s2">
            <i class="large material-icons circle responsive-img">check</i>
          </div>
          <div class="col s10">
            <h1><span class="black-text">
            Leave your contact details and we will deliver your calendar within 5 working days.
            </span>
          </h1>
          </div>
        </div>
      </div>
    </div>


    <div class="row">
        <form class="col s12">
          <font size="20">Phone number:</font>
          <div class="row">

            <div class="input-field col s12">
              <input id="number" type="number">
            </div>
          </div>
        </form>
      </div>
      <font size="20">E-mail:</font>
      <div class="row">

    <form class="col s12">
      <div class="row">
        <div class="input-field col s12">
          <input id="email" type="email" class="">
        </div>
      </div>
    </form>




    <button id="btn_final" class="btn2">Accept</button>
  </div>


</div>

<div id="final" style="display: none;">

  <div class="col s12 m8 offset-m2 l6 offset-l3">
      <div class="card-panel green lighten-5 z-depth-1">
        <div class="row valign-wrapper">
          <div class="col s2">
            <i class="large material-icons circle responsive-img">check</i>
          </div>
          <div class="col s10">
            <h1><span class="black-text">
              You are a great fellow! You have to wait a bit to get your calendar.
  Now you can subscribe to our instagram!
            </span>
          </h1>
          </div>
        </div>
      </div>
    </div>

<img id="inst" src="frame.jpg" width="700" height="700" >
</div>

</div>


</center>
  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <script  src="https://www.gstatic.com/firebasejs/6.1.0/firebase.js"></script>
  <!-- <script  src="./init-firebase.js"></script> -->

  <script>

  console.log(window.location.search);
  var par = window.location.search;
  par = par.replace("?id=", "");

  var config = {
    apiKey: "AIzaSyAVVFwh_PmRuKlsMF7sOAAUkDn5eVj0zd4",
    authDomain: "copygeneral-f7c91.firebaseapp.com",
    projectId: "copygeneral-f7c91",
    storageBucket: "copygeneral-f7c91.appspot.com",
    databaseURL: "copygeneral-f7c91.firebaseio.com"
  };
  firebase.initializeApp(config);

  // Get a reference to the database service
  var database = firebase.database();
  var storageRef = firebase.storage().ref();

  // var bytes = new Uint8Array([0x48, 0x65, 0x6c, 0x6c, 0x6f, 0x2c, 0x20, 0x77, 0x6f, 0x72, 0x6c, 0x64, 0x21]);


  document.getElementById('myFile').onchange = function (evt) {
  document.getElementById('loader').style.display = "block";
  document.getElementById('bt').innerHTML  = "";
  console.log('Start uploaded a blob or file!');
        var tgt = evt.target || window.event.srcElement,
            files = tgt.files,
            fl = files.length;
            for(var i = 0; i < fl; i++){
              storageRef.child(par + "_" + i +".jpg").put(files[i]).then(function(snapshot) {
                console.log('Uploaded an array!');
                document.getElementById('main').innerHTML  = "";
                document.getElementById('demo').style.display = "block";
              });
            }
    }

var ctr_btn_s = 0;
var ctr_btn_p = 0;




function twoScript(){
console.log('Main!');
  document.getElementById('btn_ns').addEventListener("click", function(){
    console.log('btn_ns!');
    ctr_btn_s++;
    firebase.database().ref(par + '/style').set({
          value: ctr_btn_s
        });
  });

  document.getElementById('btn_np').addEventListener("click", function(){
    console.log('btn_np!');
    ctr_btn_p++;
    firebase.database().ref(par + '/page').set({
          value: ctr_btn_p
        });
  });

  document.getElementById('btn_ls').addEventListener("click", function(){
    console.log('btn_ls!');
   ctr_btn_s--;
    firebase.database().ref(par + '/style').set({

          value: ctr_btn_s
        });
  });


  document.getElementById('btn_lp').addEventListener("click", function(){
    console.log('btn_lp!');
    ctr_btn_p--;
    firebase.database().ref(par + '/page').set({
          value: ctr_btn_p
        });
  });

  document.getElementById('a5').addEventListener("click", function(){
    console.log('btn_a5!');
    firebase.database().ref(par + '/size').set({
          value: 0
        });
  });

  document.getElementById('a4').addEventListener("click", function(){
    console.log('btn_a4!');
    firebase.database().ref(par + '/size').set({
          value: 1
        });
  });

  document.getElementById('a3').addEventListener("click", function(){
    console.log('btn_a3!');
    firebase.database().ref(par + '/size').set({
          value: 2
        });
  });

  document.getElementById('btn_ok').addEventListener("click", function(){
    console.log('btn_ok!');
    firebase.database().ref(par + '/ok').set({
          value: 1
        });

        document.getElementById('demo').innerHTML  = "";
        document.getElementById('domino').style.display = "block";
  });

  document.getElementById('btn_final').addEventListener("click", function(){
    console.log('btn_final ok!');
    firebase.database().ref(par + '/ok').set({
          value: 0
        });

        document.getElementById('domino').innerHTML  = "";
        document.getElementById('final').style.display = "block";
  });

  document.getElementById('inst').addEventListener("click", function(){
       window.open("https://www.instagram.com/copygeneral_cz/", "_blank");
  });

}
  </script>
</body>
</html>
